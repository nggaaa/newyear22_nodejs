<%- include("template/header.ejs") -%>

<!-- px-4 -->
<div class="container">
  <div class="d-flex justify-content-center">
    <h1 class="fw-bold display-1 mt-5" id="second">00</h1>
    <h6 class="fw-bold display-6 mt-2">Seconds</h6>
  </div>
</div>
<script>
  var director = document.getElementById("director");
  var countDate = new Date("Jan 1, 2022 00:00:00").getTime();
  function newYear() {
    var now = new Date().getTime();
    gap = countDate - now;

    var second = 1000;
    var minute = second * 60;
    var hour = minute * 60;
    var day = hour * 24;

    var d = Math.floor(gap / day);
    var h = Math.floor((gap % day) / hour);
    var m = Math.floor((gap % hour) / minute);
    var s = Math.floor((gap % minute) / second);

    document.getElementById("second").innerText = s;

    if (!(d === 0 && h === 0 && m === 0)) {
      window.location.replace("/");
    }

    if (d === 0 && h === 0 && m === 0 && s <= 0) {
      window.location.replace("/newyear");
    }
  }

  setInterval(function () {
    newYear();
  }, 1000);
</script>
<%- include("template/footer.ejs") -%>
